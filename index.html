<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Darling Wifey üéÇüéÅ‚ù§Ô∏è</title>
    <style>
        /* Aesthetic Definition  */
        :root {
            --pink: #FFB6BE;
            --orange: #FAC898;
            --white-glass: rgba(255, 255, 255, 0.85);
            --romantic-red: #ff477e;
            --text-main: #4a3629;
        }

        body, html {
         [span_4](start_span)[span_4](end_span)[span_6](start_span)[span_6](end_span)   margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Palatino', 'Georgia', serif;
            background: linear-gradient(135deg, var(--pink), var(--orange));
            color: var(--text-main);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Scene Architecture [span_90](start_span)[span_90](end_span)[span_91](start_span)[span_91](end_span) */
       .scene {
            position: absolute; top: 0; left: 0; width: 100%; height: 100vh;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            animation: sceneFade 0.8s ease-in-out forwards;
        }
       .active { display: flex; }

        @keyframes sceneFade {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Step 1: Cake & Candle Physics  */
       .cake {
            position: relative; width: 200px; height: 120px;
            background: #fff; border-radius: 10px 10px 0 0;
      [span_42](start_span)[span_42](end_span)[span_44](start_span)[span_44](end_span)      box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-top: 50px;
        }
       .cake::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 20px;
            background: #ff85a2; border-radius: 10px 10px 0 0;
        }
       .candle {
            position: absolute; width: 10px; height: 40px;
            background: #ffd1dc; border-radius: 5px; top: -40px;
        }
       .c1 { left: 40px; }.c2 { left: 95px; }.c3 { left: 150px; }
        
       .flame {
            position: absolute; width: 12px; height: 25px;
            background: radial-gradient(#fff, #ffa500, #ff4500);
            border-radius: 50% 50% 20% 20%; top: -22px; left: -1px;
            animation: flicker 0.1s infinite alternate;
            box-shadow: 0 0 15px #ffa500;
        }
        @keyframes flicker {
            0% { transform: scale(1) rotate(-2deg); }
            100% { transform: scale(1.1) rotate(2deg); }
        }

        /* Step 2: Balloon Mechanics  */
       .balloon {
            width: 120px; height: 150px; background: var(--romantic-red);
            border-radius: 80% 80% 80% [span_47](start_span)[span_47](end_span)[span_49](start_span)[span_49](end_span)80%; position: relative;
            cursor: pointer; box-shadow: inset -10px -10px 20px rgba(0,0,0,0.2);
            animation: balloonFloat 3s infinite ease-in-out;
        }
       .balloon::after {
            content: ''; position: absolute; bottom: -8px; left: 50px;
            border-left: 10px solid transparent; border-right: 10px solid transparent;
            border-bottom: 15px solid var(--romantic-red);
        }
       .string {
            width: 2px; height: 100px; background: rgba(255,255,255,0.4);
            position: absolute; bottom: -110px; left: 59px;
        }
        @keyframes balloonFloat {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        /* Step 4: Commemorative Layout [span_92](start_span)[span_92](end_span)[span_93](start_span)[span_93](end_span) */
       .final-scroll {
            height: auto; overflow-y: auto; position: relative; padding: 40px 0;
            display: none; align-items: center; flex-direction: column;
        }
       .message-card {
            background: var(--white-glass); padding: 40px; border-radius: 30px;
            max-width: 600px; text-align: center; margin: 0 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); line-height: 1.8;
        }
       .photo-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px; width: 90%; max-width: 1000px; margin-top: 50px;
        }
       .photo-grid img {
            width: 100%; aspect-ratio: 1/1; object-fit: cover;
            border-radius: 20px; opacity: 0; transform: translateY(20px);
            transition: 0.8s; box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
       .reveal img { opacity: 1; transform: translateY(0); }

        /* UI Elements  */
        button {
            padding: 15px 35px; border: none; back[span_75](start_span)[span_75](end_span)ground: var(--romantic-red);
            color: white; border-radius: 50px; font-size: 1.1rem;
            cursor: pointer; box-shadow: 0 10px 20px rgba(255, 71, 126, 0.3);
            transition: 0.3s; animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 99; }
    </style>
</head>
<body onclick="handleGlobalClick()">

    <audio id="audioPlayer" src="music.mp3" loop></audio>
    <canvas id="mainCanvas"></canvas>

    <div id="step1" class="scene active">
        <h1 style="text-shadow: 0 5px 15px rgba(0,0,0,0.1);">üéÇ Blow the candles üéÇ</h1>
        <div class="cake" id="cakeObj">
            <div class="candle c1"><div class="flame"></div></div>
            <div class="candle c2"><div class="flame"></div></div>
            <div class="candle c3"><div class="flame"></div></div>
        </div>
        <p style="margin-top: 40px; color: rgba(0,0,0,0.4); font-style: italic;">(Tap anywhere to blow the candles)</p>
    </div>

    <div id="step2" class="scene">
        <h1>üéà Click the balloon üéà</h1>
        <div class="balloon" id="balloonObj" onclick="executePop(event)">
            <div class="string"></div>
        </div>
    </div>

    <div id="step3" class="scene">
        <div style="z-index: 100; text-align: center;">
            <h1 style="font-size: 3rem; margin-bottom: 30px;">üéÜ Happy Birthday Sweetheart üéÜ</h1>
            <button onclick="showFinal()">There‚Äôs a surprise for you üíñ</button>
        </div>
    </div>

    <div id="step4" class="final-scroll">
        <div class="message-card">
            <h2 style="color: var(--romantic-red);">üíñ Happy Birthday My Darling Wifey üíñ</h2>
            <p>Today is not just your birthday, it‚Äôs the day the most beautiful soul came into this world üåé.</p>
            <p>You are my calm in chaos, my smile on hard days, my peace when everything feels heavy üíó.</p>
            <p>Every time you laugh, my heart forgets how to beat properly. Loving you feels natural ‚Äî like breathing üå∏.</p>
            <p>I promise to stand by you, love you endlessly, and choose you every single day ‚åö.</p>
            <p>You are my everything, my inspiration, my happiness. May this day be as bright, colorful, and amazing as your soul ‚ù§Ô∏è.</p>
            <h3 style="color: var(--romantic-red); margin-top: 30px;">Happy Birthday My Forever Love ‚ù§Ô∏è</h3>
        </div>

        <div class="photo-grid" id="photoGrid">
            <img src="photo1.jpg">
            <img src="photo2.jpg">
            <img src="photo3.jpg">
            <img src="photo4.jpg">
            <img src="photo5.jpg">
        </div>
    </div>

    <script>
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');
        const audio = document.getElementById('audioPlayer');
        let currentStep = 1;
        let particles =;
        let fireworks =;
        let canvasActive = false;

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        function handleGlobalClick() {
            // Audio Unlock Strategy 
            if (currentStep === 1) {
                audio.play();
                const flames = document.querySelectorAll('.flame');
                flames.forEach(f => f.style.display = 'none');
                
              [span_26](start_span)[span_26](end_span)  // Smoke logic 
                setTimeout(() => {
                    document.getElementById('step1').classList.remove('active');
                    document.getElementById('step2').classList.add('active');
                [span_32](start_span)[span_32](end_span)    currentStep = 2;
                }, 1000);
            }
        }

        // Particle Class for Heart Rain [span_94](start_span)[span_94](end_span)[span_95](start_span)[span_95](end_span)
        class Heart {
            constructor(x, y, isPop = false) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 15 + 10;
                this.speedY = isPop? (Math.random() - 0.5) * 10 : Math.random() * 2 + 1;
                this.speedX = isPop? (Math.random() - 0.5) * 10 : (Math.random() - 0.5) * 2;
                this.opacity = 1;
                this.isPop = isPop;
            }
            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = '#ff477e';
                ctx.beginPath();
                const r = this.size / 20; // Scale factor [span_96](start_span)[span_96](end_span)
                ctx.moveTo(this.x, this.y);
                for (let t = 0; t <= Math.PI * 2; t += 0.1) {
                    const hx = 16 * Math.pow(Math.sin(t), 3);
                    const hy = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
                    ctx.lineTo(this.x + hx * r, this.y - hy * r);
                }
                ctx.fill();
                ctx.restore();
            }
            update() {
                this.y += this.speedY;
                this.x += this.speedX;
                if (this.isPop) {
                    this.opacity -= 0.01;
                    this.speedY += 0.1; // gravity 
                } else if (this.y > canvas.height) {
                    this.y = -20;
                }
 [span_67](start_span)[span_67](end_span)           }
        }

        function executePop(e) {
            e.stopPropagation();
            document.getElementById('balloonObj').style.display = 'none';
            // Burst particles 
            for (let i = 0; i < 40; i++) particles.push(new Heart(e.clientX, e.clientY, true));
            // Start heart rain 
         [span_57](start_span)[span_57](end_span)   for (let i = 0; i < 30; i++) particles.push(new Heart(Math.random() * canvas.width, -50));
            
            canvasActive = tru[span_55](start_span)[span_55](end_span)e;
            animate();
            
            setTimeout(() => {
                document.getElementById('step2').classList.remove('active');
                document.getElementById('step3').classList.add('active');
                currentStep = 3;
            }, 1000);
        }

        // Firework Physics Engine 
        class Firework {
            constructor() {
                this.x = Math.random() * canv[span_71](start_span)[span_71](end_span)as.width;
                this.y = canvas.height;
                this.tx = this.x;
                this.ty = Math.random() * (canvas.height / 2);
                this.speed = 4;
                this.exploded = false;
                this.shards =;
                this.hue = Math.random() * 360;
            }
            update() {
                if (!this.exploded) {
                    this.y -= this.speed;
                    if (this.y <= this.ty) {
                        this.exploded = true;
                        for (let i = 0; i < 60; i++) {
                            const angle = Math.random() * Math.PI * 2;
                            const force = Math.random() * 6 + 2;
                            this.shards.push({
                                x: this.x, y: this.y,
                                vx: Math.cos(angle) * force,
                                vy: Math.sin(angle) * force,
                                alpha: 1
                            });
                        }
                    }
                }
                this.shards.forEach((s, i) => {
                    s.x += s.vx; s.y += s.vy;
                    s.vy += 0.1; // gravity 
                    s.alpha -= 0.015;
                    if (s.alpha <= 0) this.shards.splice(i, 1);
        [span_68](start_span)[span_68](end_span)        });
            }
            draw() {
                if (!this.exploded) {
                    ctx.fillStyle = '#fff';
                    ctx.beginPath(); ctx.arc(this.x, this.y, 2, 0, Math.PI*2); ctx.fill();
                }
                this.shards.forEach(s => {
                    ctx.globalAlpha = s.alpha;
                    ctx.fillStyle = `hsl(${this.hue}, 100%, 60%)`;
                    ctx.beginPath(); ctx.arc(s.x, s.y, 2, 0, Math.PI*2); ctx.fill();
                });
            }
        }

        function animate() {
            if (!canvasActive) return;
            // Trails effect 
            ctx.fillStyle = currentStep === 3? 'rgba(0,0,0,0.1)' : 'rgba(255,182,190,0.3)';
            ctx.fillRect(0, 0,[span_62](start_span)[span_62](end_span)[span_65](start_span)[span_65](end_span) canvas.width, canvas.height);

            particles.forEach((p, i) => {
                p.update(); p.draw();
                if (p.isPop && p.opacity <= 0) particles.splice(i, 1);
            });

            if (currentStep === 3) {
                if (Math.random() < 0.05) fireworks.push(new Firework());
                fireworks.forEach((f, i) => {
                    f.update(); f.draw();
                    if (f.exploded && f.shards.length === 0) fireworks.splice(i, 1);
                });
            }
            requestAnimationFrame(animate);
        }

        function showFinal() {
            document.getElementById('step3').classList.remove('active');
            const final = document.getElementById('step4');
            final.style.display = 'flex';
            setTimeout(() => {
                document.getElementById('photoGrid').classList.add('reveal');
            }, 100);
            currentStep = 4;
            // Allow vertical scrolling for final content [span_97](start_span)[span_97](end_span)
            document.body.style.overflowY = 'auto';
        }
    </script>
</body>
</html>
